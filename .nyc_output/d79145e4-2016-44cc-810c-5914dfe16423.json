{"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/app.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":51}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":51}},"4":{"start":{"line":6,"column":26},"end":{"line":6,"column":65}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":29}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":22}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":22}},"8":{"start":{"line":14,"column":30},"end":{"line":19,"column":9}},"9":{"start":{"line":15,"column":12},"end":{"line":15,"column":59}},"10":{"start":{"line":16,"column":12},"end":{"line":16,"column":92}},"11":{"start":{"line":17,"column":12},"end":{"line":17,"column":60}},"12":{"start":{"line":18,"column":12},"end":{"line":18,"column":26}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":36}},"14":{"start":{"line":23,"column":8},"end":{"line":25,"column":11}},"15":{"start":{"line":24,"column":12},"end":{"line":24,"column":70}},"16":{"start":{"line":28,"column":8},"end":{"line":28,"column":37}},"17":{"start":{"line":29,"column":8},"end":{"line":31,"column":11}},"18":{"start":{"line":30,"column":12},"end":{"line":30,"column":73}},"19":{"start":{"line":32,"column":8},"end":{"line":32,"column":52}},"20":{"start":{"line":33,"column":8},"end":{"line":33,"column":52}},"21":{"start":{"line":34,"column":8},"end":{"line":34,"column":48}},"22":{"start":{"line":37,"column":0},"end":{"line":37,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":18},"end":{"line":12,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":13},"end":{"line":21,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":30},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":51},"end":{"line":19,"column":9}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":16},"end":{"line":26,"column":5}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":23,"column":30},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":36},"end":{"line":25,"column":9}},"line":23},"5":{"name":"(anonymous_5)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":13},"end":{"line":35,"column":5}},"line":27},"6":{"name":"(anonymous_6)","decl":{"start":{"line":29,"column":26},"end":{"line":29,"column":27}},"loc":{"start":{"line":29,"column":47},"end":{"line":31,"column":9}},"line":29}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":8,"10":8,"11":8,"12":8,"13":1,"14":0,"15":0,"16":1,"17":1,"18":0,"19":1,"20":1,"21":1,"22":1},"f":{"0":1,"1":1,"2":8,"3":0,"4":0,"5":1,"6":0},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/app.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/app.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AAEnC,oDAA6C;AAC7C,oDAA6C;AAE7C,kEAA2D;AAE3D,MAAqB,GAAG;IAGtB;QACE,IAAI,CAAC,GAAG,GAAG,OAAO,EAAE,CAAC;QACrB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAEO,MAAM;QACZ,MAAM,aAAa,GAA2B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAChE,GAAG,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAC/C,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,mCAAmC,CAAC,CAAC;YAChF,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAChD,OAAO,IAAI,EAAE,CAAC;QAChB,CAAC,CAAA;QAED,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC9B,CAAC;IAEM,KAAK,CAAC,IAAqB;QAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE;YACzB,OAAO,CAAC,GAAG,CAAC,sCAAsC,IAAI,EAAE,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,MAAM;QACZ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAE7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,EAAE;YACpC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,oBAAU,CAAC,CAAC;QAClC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,oBAAU,CAAC,CAAC;QAElC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,yBAAe,CAAC,CAAC;IAChC,CAAC;CACF;AAtCD,sBAsCC","sourcesContent":["import * as express from 'express';\n\nimport userRouter from './routes/userRouter';\nimport taskRouter from './routes/taskRouter';\n\nimport errorMiddleware from './middleware/errorMiddleware';\n\nexport default class App {\n  public app: express.Express;\n\n  constructor() {\n    this.app = express();\n    this.config();\n    this.routes();\n  }\n\n  private config(): void {\n    const accessControl: express.RequestHandler = (_req, res, next) => {\n      res.header('Access-Control-Allow-Origin', '*');\n      res.header('Access-Control-Allow-Methods', 'GET,POST,DELETE,OPTIONS,PUT,PATCH');\n      res.header('Access-Control-Allow-Headers', '*');\n      return next();\n    }\n\n    this.app.use(accessControl);\n  }\n\n  public start(PORT: string | number): void {\n    this.app.listen(PORT, () => {\n      console.log(`Server running at http://localhost:${PORT}`);\n    });\n  }\n\n  private routes(): void {\n    this.app.use(express.json());\n\n    this.app.get('/', async (_req, res) => {\n      return res.status(200).json({ message: `Everything's ok!` });\n    });\n\n    this.app.use('/user', userRouter);\n    this.app.use('/task', taskRouter);\n\n    this.app.use(errorMiddleware);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"56b0bd93b488e82825c3fcb06b997dd0afdcddc1"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/routes/userRouter.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/routes/userRouter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":64}},"3":{"start":{"line":5,"column":29},"end":{"line":5,"column":72}},"4":{"start":{"line":6,"column":26},"end":{"line":6,"column":66}},"5":{"start":{"line":7,"column":15},"end":{"line":7,"column":38}},"6":{"start":{"line":8,"column":19},"end":{"line":8,"column":49}},"7":{"start":{"line":9,"column":27},"end":{"line":9,"column":61}},"8":{"start":{"line":10,"column":24},"end":{"line":10,"column":55}},"9":{"start":{"line":11,"column":0},"end":{"line":12,"column":113}},"10":{"start":{"line":12,"column":72},"end":{"line":12,"column":111}},"11":{"start":{"line":13,"column":0},"end":{"line":14,"column":104}},"12":{"start":{"line":14,"column":66},"end":{"line":14,"column":102}},"13":{"start":{"line":15,"column":0},"end":{"line":15,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":12,"column":52},"end":{"line":12,"column":53}},"loc":{"start":{"line":12,"column":72},"end":{"line":12,"column":111}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":46},"end":{"line":14,"column":47}},"loc":{"start":{"line":14,"column":66},"end":{"line":14,"column":102}},"line":14}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":2,"11":1,"12":0,"13":1},"f":{"0":2,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/routes/userRouter.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/routes/userRouter.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AAEjC,iEAA0D;AAC1D,yEAAkE;AAClE,mEAA4D;AAE5D,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AACxB,MAAM,UAAU,GAAG,IAAI,wBAAc,EAAE,CAAC;AACxC,MAAM,kBAAkB,GAAG,IAAI,4BAAkB,EAAE,CAAC;AACpD,MAAM,eAAe,GAAG,IAAI,yBAAe,EAAE,CAAC;AAE9C,MAAM;KACH,IAAI,CAAC,WAAW,EACjB,kBAAkB,CAAC,QAAQ,EAC3B,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AAE/D,MAAM;KACH,IAAI,CAAC,QAAQ,EACd,eAAe,CAAC,QAAQ,EACxB,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AAE5D,kBAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\n\nimport UserController from '../controller/userController';\nimport RegisterValidation from '../middleware/registerValidation';\nimport LoginValidation from '../middleware/loginValidation';\n\nconst router = Router();\nconst controller = new UserController();\nconst registerValidation = new RegisterValidation();\nconst loginValidation = new LoginValidation();\n\nrouter\n  .post('/register',\n  registerValidation.validate,\n  (req, res, next) => controller.registerUser(req, res, next));\n\nrouter\n  .post('/login',\n  loginValidation.validate,\n  (req, res, next) => controller.userLogin(req, res, next));\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"00eca14acad5128377223b62a5e5d3f5065b9f10"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/controller/userController.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/controller/userController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":22},"end":{"line":3,"column":55}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":33}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":52}},"4":{"start":{"line":10,"column":8},"end":{"line":16,"column":9}},"5":{"start":{"line":11,"column":12},"end":{"line":11,"column":55}},"6":{"start":{"line":12,"column":12},"end":{"line":12,"column":86}},"7":{"start":{"line":15,"column":12},"end":{"line":15,"column":31}},"8":{"start":{"line":19,"column":8},"end":{"line":26,"column":9}},"9":{"start":{"line":20,"column":12},"end":{"line":20,"column":52}},"10":{"start":{"line":21,"column":26},"end":{"line":21,"column":67}},"11":{"start":{"line":22,"column":12},"end":{"line":22,"column":51}},"12":{"start":{"line":25,"column":12},"end":{"line":25,"column":31}},"13":{"start":{"line":29,"column":0},"end":{"line":29,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":18},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":39},"end":{"line":17,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":36},"end":{"line":27,"column":5}},"line":18}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":2,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"f":{"0":1,"1":2,"2":0},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/controller/userController.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/controller/userController.ts"],"names":[],"mappings":";;AAEA,wDAAiD;AAEjD,kCAAwC;AAExC,MAAqB,cAAc;IAGjC;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,qBAAW,EAAE,CAAC;IACpC,CAAC;IAEM,KAAK,CAAC,YAAY,CACvB,GAAY,EACZ,GAAa,EACb,IAAkB;QAElB,IAAI;YACF,MAAM,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAC3C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,+BAA+B,EAAE,CAAC,CAAC;SAC3E;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;SACpB;IACH,CAAC;IAEM,KAAK,CAAC,SAAS,CACpB,GAAY,EACZ,GAAa,EACb,IAAkB;QAElB,IAAI;YACF,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACxC,MAAM,KAAK,GAAG,IAAA,oBAAa,EAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC5C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;SACxC;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;SACpB;IACH,CAAC;CACF;AAjCD,iCAiCC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\n\nimport UserService from '../service/userService';\n\nimport { generateToken } from '../auth';\n\nexport default class UserController {\n  private _service;\n\n  constructor() {\n    this._service = new UserService();\n  }\n\n  public async registerUser(\n    req: Request,\n    res: Response,\n    next: NextFunction,\n  ): Promise<Response | void> {\n    try {\n      await this._service.registerUser(req.body);\n      return res.status(201).json({ message: 'User registered with success!' });\n    } catch (error) {\n      return next(error);\n    }\n  }\n\n  public async userLogin(\n    req: Request,\n    res: Response,\n    next: NextFunction,\n  ): Promise<Response | void> {\n    try {\n      await this._service.userLogin(req.body);\n      const token = generateToken(req.body.email);\n      return res.status(200).json({ token });\n    } catch (error) {\n      return next(error);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"531757eada007a20f8aae13d8e693af9ec883adf"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/service/userService.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/service/userService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":50}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":49}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":51}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":37}},"5":{"start":{"line":11,"column":21},"end":{"line":11,"column":68}},"6":{"start":{"line":12,"column":8},"end":{"line":13,"column":25}},"7":{"start":{"line":13,"column":12},"end":{"line":13,"column":25}},"8":{"start":{"line":14,"column":8},"end":{"line":14,"column":20}},"9":{"start":{"line":17,"column":46},"end":{"line":17,"column":50}},"10":{"start":{"line":18,"column":26},"end":{"line":18,"column":73}},"11":{"start":{"line":19,"column":8},"end":{"line":20,"column":83}},"12":{"start":{"line":20,"column":12},"end":{"line":20,"column":83}},"13":{"start":{"line":21,"column":21},"end":{"line":21,"column":67}},"14":{"start":{"line":22,"column":8},"end":{"line":22,"column":70}},"15":{"start":{"line":25,"column":21},"end":{"line":25,"column":68}},"16":{"start":{"line":26,"column":8},"end":{"line":27,"column":71}},"17":{"start":{"line":27,"column":12},"end":{"line":27,"column":71}},"18":{"start":{"line":28,"column":33},"end":{"line":28,"column":97}},"19":{"start":{"line":29,"column":8},"end":{"line":30,"column":78}},"20":{"start":{"line":30,"column":12},"end":{"line":30,"column":78}},"21":{"start":{"line":33,"column":0},"end":{"line":33,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":9,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":33},"end":{"line":15,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":29},"end":{"line":23,"column":5}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":41},"end":{"line":31,"column":5}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":8},"end":{"line":13,"column":25}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":13,"column":25}},{"start":{"line":12,"column":8},"end":{"line":13,"column":25}}],"line":12},"1":{"loc":{"start":{"line":19,"column":8},"end":{"line":20,"column":83}},"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":20,"column":83}},{"start":{"line":19,"column":8},"end":{"line":20,"column":83}}],"line":19},"2":{"loc":{"start":{"line":26,"column":8},"end":{"line":27,"column":71}},"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":27,"column":71}},{"start":{"line":26,"column":8},"end":{"line":27,"column":71}}],"line":26},"3":{"loc":{"start":{"line":29,"column":8},"end":{"line":30,"column":78}},"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":30,"column":78}},{"start":{"line":29,"column":8},"end":{"line":30,"column":78}}],"line":29}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1},"f":{"0":2,"1":0,"2":1,"3":0},"b":{"0":[0,0],"1":[1,0],"2":[0,0],"3":[0,0]},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/service/userService.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/service/userService.ts"],"names":[],"mappings":";;AAAA,mDAAgE;AAEhE,kDAA2C;AAE3C,oDAAoE;AAKpE,MAAqB,WAAW;IAG9B;QACE,IAAI,CAAC,MAAM,GAAG,cAAI,CAAC;IACrB,CAAC;IAEM,KAAK,CAAC,eAAe,CAAC,KAAwB;QACnD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;QAC7D,IAAI,CAAC,IAAI;YAAE,OAAO,KAAK,CAAC;QACxB,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,KAAK,CAAC,YAAY,CAAC,IAAiB;QACzC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;QAC3C,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;QAClE,IAAI,SAAS;YAAE,MAAM,IAAI,gCAAe,CAAC,0BAA0B,CAAC,CAAC;QAErE,MAAM,IAAI,GAAG,MAAM,IAAA,yBAAY,EAAC,QAAQ,CAAC,CAAA;QACzC,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;IAChE,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAc;QACpD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;QAC7D,IAAI,CAAC,IAAI;YAAE,MAAM,IAAI,8BAAa,CAAC,gBAAgB,CAAC,CAAC;QAErD,MAAM,gBAAgB,GAAG,MAAM,IAAA,4BAAe,EAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QACxE,IAAI,CAAC,gBAAgB;YAAE,MAAM,IAAI,gCAAe,CAAC,qBAAqB,CAAC,CAAC;IAC1E,CAAC;CACF;AA7BD,8BA6BC","sourcesContent":["import { BadRequestError, NotFoundError } from 'restify-errors';\n\nimport User from '../database/models/User';\n\nimport { hashPassword, comparePassword } from '../utils/encrypting';\n\nimport IUserService from '../@types/interfaces/userService.interface';\nimport { CreateUserT, UserLoginT, UserT } from '../@types/types/user.type';\n\nexport default class UserService implements IUserService {\n  private _model;\n\n  constructor() {\n    this._model = User;\n  }\n\n  public async findUserByEmail(email: string | string[]): Promise<UserT | false> {\n    const user = await this._model.findOne({ where: { email } });\n    if (!user) return false;\n    return user;\n  }\n\n  public async registerUser(user: CreateUserT): Promise<void> {\n    const { username, password, email } = user;\n    const userExist = await this._model.findOne({ where: { email } });\n    if (userExist) throw new BadRequestError('Email already registered');\n\n    const hash = await hashPassword(password)\n    await this._model.create({ username, password: hash, email });\n  }\n\n  public async userLogin({ email, password }: UserLoginT): Promise<void> {\n    const user = await this._model.findOne({ where: { email } });\n    if (!user) throw new NotFoundError('User not found');\n\n    const checkCredentials = await comparePassword(user.password, password);\n    if (!checkCredentials) throw new BadRequestError('Invalid credentials'); \n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8f9abddc9495f4bb0db49f07626dd77074def7b5"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/database/models/User.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/database/models/User.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":8,"column":0},"end":{"line":22,"column":3}},"4":{"start":{"line":23,"column":0},"end":{"line":23,"column":23}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/database/models/User.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/database/models/User.ts"],"names":[],"mappings":";;AAAA,yCAA0C;AAE1C,wBAAmB;AAEnB,MAAM,IAAK,SAAQ,iBAAK;CAKvB;AAAA,CAAC;AAEF,IAAI,CAAC,IAAI,CACP;IACE,QAAQ,EAAE;QACR,IAAI,EAAE,kBAAM;KACb;IACD,KAAK,EAAE;QACL,IAAI,EAAE,kBAAM;KACb;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,kBAAM;KACb;CACF,EACD;IACE,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,OAAO;IAClB,UAAU,EAAE,KAAK;CAClB,CACF,CAAC;AAEF,kBAAe,IAAI,CAAC","sourcesContent":["import { Model, STRING } from 'sequelize';\n\nimport db from '.';\n\nclass User extends Model {\n  declare id: number;\n  declare username: string;\n  declare email: string;\n  declare password: string;\n};\n\nUser.init(\n  {\n    username: {\n      type: STRING,\n    },\n    email: {\n      type: STRING,\n    },\n    password: {\n      type: STRING,\n    },\n  },\n  {\n    sequelize: db,\n    tableName: 'users',\n    timestamps: false,\n  },\n);\n\nexport default User;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"32662b12dd0865bbebecaef3279f3bc0ed3d5c05"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/database/models/index.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/database/models/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":41}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/database/models/index.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/database/models/index.ts"],"names":[],"mappings":";;AAAA,yCAAsC;AACtC,0CAA0C;AAE1C,kBAAe,IAAI,qBAAS,CAAC,MAAM,CAAC,CAAC","sourcesContent":["import { Sequelize } from 'sequelize';\nimport * as config from '../config/index';\n\nexport default new Sequelize(config);"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"50bb2a8cb2cfa3a7bc648f481b8f3c54048d8d84"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/utils/encrypting.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/utils/encrypting.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":56}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":32}},"3":{"start":{"line":5,"column":21},"end":{"line":9,"column":1}},"4":{"start":{"line":6,"column":17},"end":{"line":6,"column":41}},"5":{"start":{"line":7,"column":17},"end":{"line":7,"column":50}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":16}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":36}},"8":{"start":{"line":11,"column":24},"end":{"line":14,"column":1}},"9":{"start":{"line":12,"column":23},"end":{"line":12,"column":62}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":22}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":21},"end":{"line":5,"column":22}},"loc":{"start":{"line":5,"column":41},"end":{"line":9,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":24},"end":{"line":11,"column":25}},"loc":{"start":{"line":11,"column":53},"end":{"line":14,"column":1}},"line":11}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":1},"f":{"0":0,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/utils/encrypting.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/utils/encrypting.ts"],"names":[],"mappings":";;;AAAA,iCAAiC;AAE1B,MAAM,YAAY,GAAG,KAAK,EAAE,QAAgB,EAAmB,EAAE;IACtE,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAEtC,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAE/C,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AANW,QAAA,YAAY,gBAMvB;AAEK,MAAM,eAAe,GAAG,KAAK,EAAE,MAAc,EAAE,SAAiB,EAAoB,EAAE;IAC3F,MAAM,UAAU,GAAG,MAAM,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAC3D,OAAO,UAAU,CAAC;AACpB,CAAC,CAAA;AAHY,QAAA,eAAe,mBAG3B","sourcesContent":["import * as bcrypt from 'bcrypt';\n\nexport const hashPassword = async (password: string): Promise<string> => {\n  const salt = await bcrypt.genSalt(10);\n\n  const hash = await bcrypt.hash(password, salt);\n\n  return hash;\n};\n\nexport const comparePassword = async (dbPass: string, loginPass: string): Promise<boolean> => {\n  const verifyPass = await bcrypt.compare(loginPass, dbPass);\n  return verifyPass;\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4111240ca28d7b6784f85f3df8f31e8cc1b97dd1"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/auth/index.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/auth/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":53}},"2":{"start":{"line":4,"column":12},"end":{"line":4,"column":35}},"3":{"start":{"line":5,"column":17},"end":{"line":5,"column":36}},"4":{"start":{"line":6,"column":22},"end":{"line":10,"column":1}},"5":{"start":{"line":7,"column":45},"end":{"line":7,"column":61}},"6":{"start":{"line":8,"column":18},"end":{"line":8,"column":71}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":17}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":38}},"9":{"start":{"line":12,"column":20},"end":{"line":21,"column":1}},"10":{"start":{"line":13,"column":23},"end":{"line":13,"column":39}},"11":{"start":{"line":15,"column":4},"end":{"line":20,"column":5}},"12":{"start":{"line":16,"column":8},"end":{"line":16,"column":41}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":20}},"14":{"start":{"line":22,"column":0},"end":{"line":22,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":22},"end":{"line":6,"column":23}},"loc":{"start":{"line":6,"column":33},"end":{"line":10,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":20},"end":{"line":12,"column":21}},"loc":{"start":{"line":12,"column":31},"end":{"line":21,"column":1}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":1},"f":{"0":0,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/auth/index.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/auth/index.ts"],"names":[],"mappings":";;;AAAA,oCAAoC;AAEpC,qCAAiC;AAM1B,MAAM,aAAa,GAAG,CAAC,KAAa,EAAU,EAAE;IACrD,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,gBAAS,CAAC;IAEnD,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;IAEpE,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AANW,QAAA,aAAa,iBAMxB;AAEK,MAAM,WAAW,GAAG,CAAC,KAAa,EAA4B,EAAE;IACrE,MAAM,EAAE,MAAM,EAAE,GAAG,gBAAS,CAAC;IAC7B,+DAA+D;IAC/D,IAAI;QACF,OAAO,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAsB,CAAC;KACvD;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,IAAI,CAAC;KACb;AACH,CAAC,CAAA;AARY,QAAA,WAAW,eAQvB","sourcesContent":["import * as jwt from 'jsonwebtoken';\n\nimport jwtConfig from './config';\n\ntype TokenValidateData = {\n  email: string,\n}\n\nexport const generateToken = (email: string): string => {\n  const { secret, expiresIn, algorithm } = jwtConfig;\n\n  const token = jwt.sign({ email }, secret, { expiresIn, algorithm });\n\n  return token;\n};\n\nexport const verifyToken = (token: string): TokenValidateData | null => {\n  const { secret } = jwtConfig;\n  // try/catch preventing 'jsonwebtoken mal formed' type of error\n  try {\n    return jwt.verify(token, secret) as TokenValidateData;\n  } catch (error) {\n    return null;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c2497c9ca618058dbfe1ad2a75e8c4f7004ccfb2"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/auth/config.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/auth/config.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":13},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":25}},"3":{"start":{"line":5,"column":18},"end":{"line":10,"column":1}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":28}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/auth/config.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/auth/config.ts"],"names":[],"mappings":";;AAAA,2BAAkC;AAClC,yBAAuB;AAUvB,MAAM,SAAS,GAAc;IAC3B,qCAAqC;IACrC,MAAM,EAAE,IAAA,iBAAY,EAAC,SAAS,EAAE,MAAM,CAAC;IACvC,SAAS,EAAE,IAAI;IACf,SAAS,EAAE,OAAO;CACnB,CAAC;AAEF,kBAAe,SAAS,CAAC","sourcesContent":["import { readFileSync } from 'fs';\nimport 'dotenv/config';\n\nimport * as jwt from 'jsonwebtoken';\n\ntype JWTConfig = {\n  secret: jwt.Secret,\n  expiresIn: jwt.SignOptions['expiresIn'],\n  algorithm: jwt.Algorithm,\n};\n\nconst jwtConfig: JWTConfig = {\n  // making sure that encoding is utf-8\n  secret: readFileSync('jwt.key', 'utf8'),\n  expiresIn: '2d',\n  algorithm: 'HS256',\n};\n\nexport default jwtConfig;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e9fef1991cd8c27185c133641e718410e578afa8"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/middleware/registerValidation.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/middleware/registerValidation.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":50}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":33}},"4":{"start":{"line":6,"column":31},"end":{"line":6,"column":64}},"5":{"start":{"line":6,"column":42},"end":{"line":6,"column":64}},"6":{"start":{"line":9,"column":26},"end":{"line":9,"column":67}},"7":{"start":{"line":10,"column":8},"end":{"line":13,"column":9}},"8":{"start":{"line":11,"column":24},"end":{"line":11,"column":75}},"9":{"start":{"line":12,"column":12},"end":{"line":12,"column":29}},"10":{"start":{"line":14,"column":38},"end":{"line":14,"column":76}},"11":{"start":{"line":15,"column":8},"end":{"line":18,"column":9}},"12":{"start":{"line":16,"column":24},"end":{"line":16,"column":93}},"13":{"start":{"line":17,"column":12},"end":{"line":17,"column":29}},"14":{"start":{"line":19,"column":8},"end":{"line":19,"column":22}},"15":{"start":{"line":22,"column":0},"end":{"line":22,"column":37}},"16":{"start":{"line":23,"column":0},"end":{"line":27,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":31},"end":{"line":6,"column":32}},"loc":{"start":{"line":6,"column":42},"end":{"line":6,"column":64}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":36},"end":{"line":20,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":8},"end":{"line":13,"column":9}},"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":13,"column":9}},{"start":{"line":10,"column":8},"end":{"line":13,"column":9}}],"line":10},"1":{"loc":{"start":{"line":15,"column":8},"end":{"line":18,"column":9}},"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":18,"column":9}},{"start":{"line":15,"column":8},"end":{"line":18,"column":9}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":8,"7":8,"8":5,"9":5,"10":3,"11":3,"12":1,"13":1,"14":2,"15":1,"16":1},"f":{"0":3,"1":8},"b":{"0":[5,3],"1":[1,2]},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/middleware/registerValidation.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/middleware/registerValidation.ts"],"names":[],"mappings":";;AAEA,2BAA2B;AAE3B,mDAAiD;AAEjD,MAAM,UAAU,GAAG,cAAc,CAAC;AAClC,MAAM,sBAAsB,GAAG,CAAC,KAAa,EAAE,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAEzE,MAAqB,kBAAkB;IAO9B,KAAK,CAAC,QAAQ,CACnB,GAAY,EACZ,IAAc,EACd,IAAkB;QAElB,MAAM,EAAE,KAAK,EAAE,GAAG,kBAAkB,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC5D,IAAI,KAAK,EAAE;YACT,MAAM,GAAG,GAAG,IAAI,gCAAe,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAC/C,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,MAAM,qBAAqB,GAAG,sBAAsB,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACrE,IAAI,CAAC,qBAAqB,EAAE;YAC1B,MAAM,GAAG,GAAG,IAAI,gCAAe,CAAC,+BAA+B,CAAC,CAAC;YACjE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,OAAO,IAAI,EAAE,CAAC;IAChB,CAAC;;AAzBH,qCA0BC;AAzBgB,sBAAG,GAAG,GAAG,CAAC,MAAM,CAAC;IAC9B,QAAQ,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;IACxC,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC9B,QAAQ,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;CACzC,CAAC,CAAC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\n\nimport * as Joi from 'joi';\n\nimport { BadRequestError } from 'restify-errors';\n\nconst emailRegex = /\\S+@\\S+\\.\\S+/;\nconst validateEmailWithRegex = (email: string) => emailRegex.test(email);\n\nexport default class RegisterValidation {\n  private static joi = Joi.object({\n    username: Joi.string().min(4).required(),\n    email: Joi.string().required(),\n    password: Joi.string().min(6).required(),\n  });\n\n  public async validate(\n    req: Request,\n    _res: Response,\n    next: NextFunction,\n  ): Promise<void> {\n    const { error } = RegisterValidation.joi.validate(req.body);\n    if (error) {\n      const err = new BadRequestError(error.message);\n      return next(err);\n    }\n\n    const emailFormatValidation = validateEmailWithRegex(req.body.email);\n    if (!emailFormatValidation) {\n      const err = new BadRequestError('\"email\" must be a valid email');\n      return next(err);\n    }\n\n    return next();\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"df1cf0b03953638ed0b1b7ccb595d7e62b845d6a"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/middleware/loginValidation.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/middleware/loginValidation.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":50}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":33}},"4":{"start":{"line":6,"column":31},"end":{"line":6,"column":64}},"5":{"start":{"line":6,"column":42},"end":{"line":6,"column":64}},"6":{"start":{"line":9,"column":26},"end":{"line":9,"column":64}},"7":{"start":{"line":10,"column":8},"end":{"line":13,"column":9}},"8":{"start":{"line":11,"column":24},"end":{"line":11,"column":75}},"9":{"start":{"line":12,"column":12},"end":{"line":12,"column":29}},"10":{"start":{"line":14,"column":38},"end":{"line":14,"column":76}},"11":{"start":{"line":15,"column":8},"end":{"line":18,"column":9}},"12":{"start":{"line":16,"column":24},"end":{"line":16,"column":93}},"13":{"start":{"line":17,"column":12},"end":{"line":17,"column":29}},"14":{"start":{"line":19,"column":8},"end":{"line":19,"column":22}},"15":{"start":{"line":22,"column":0},"end":{"line":22,"column":34}},"16":{"start":{"line":23,"column":0},"end":{"line":26,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":31},"end":{"line":6,"column":32}},"loc":{"start":{"line":6,"column":42},"end":{"line":6,"column":64}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":36},"end":{"line":20,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":8},"end":{"line":13,"column":9}},"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":13,"column":9}},{"start":{"line":10,"column":8},"end":{"line":13,"column":9}}],"line":10},"1":{"loc":{"start":{"line":15,"column":8},"end":{"line":18,"column":9}},"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":18,"column":9}},{"start":{"line":15,"column":8},"end":{"line":18,"column":9}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":1},"f":{"0":0,"1":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/middleware/loginValidation.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/middleware/loginValidation.ts"],"names":[],"mappings":";;AAEA,2BAA2B;AAE3B,mDAAiD;AAEjD,MAAM,UAAU,GAAG,cAAc,CAAC;AAClC,MAAM,sBAAsB,GAAG,CAAC,KAAa,EAAE,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAEzE,MAAqB,eAAe;IAM3B,KAAK,CAAC,QAAQ,CACnB,GAAY,EACZ,IAAc,EACd,IAAkB;QAElB,MAAM,EAAE,KAAK,EAAE,GAAG,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACzD,IAAI,KAAK,EAAE;YACT,MAAM,GAAG,GAAG,IAAI,gCAAe,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAC/C,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,MAAM,qBAAqB,GAAG,sBAAsB,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACrE,IAAI,CAAC,qBAAqB,EAAE;YAC1B,MAAM,GAAG,GAAG,IAAI,gCAAe,CAAC,+BAA+B,CAAC,CAAC;YACjE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,OAAO,IAAI,EAAE,CAAC;IAChB,CAAC;;AAxBH,kCAyBC;AAxBgB,mBAAG,GAAG,GAAG,CAAC,MAAM,CAAC;IAC9B,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC9B,QAAQ,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;CAClC,CAAC,CAAC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\n\nimport * as Joi from 'joi';\n\nimport { BadRequestError } from 'restify-errors';\n\nconst emailRegex = /\\S+@\\S+\\.\\S+/;\nconst validateEmailWithRegex = (email: string) => emailRegex.test(email);\n\nexport default class LoginValidation {\n  private static joi = Joi.object({\n    email: Joi.string().required(),\n    password: Joi.string().required(),\n  });\n\n  public async validate(\n    req: Request,\n    _res: Response,\n    next: NextFunction,\n  ): Promise<void> {\n    const { error } = LoginValidation.joi.validate(req.body);\n    if (error) {\n      const err = new BadRequestError(error.message);\n      return next(err);\n    }\n\n    const emailFormatValidation = validateEmailWithRegex(req.body.email);\n    if (!emailFormatValidation) {\n      const err = new BadRequestError('\"email\" must be a valid email');\n      return next(err);\n    }\n\n    return next();\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1ce2bb732a23691ac84d3e996bc8fa9cf5154aae"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/routes/taskRouter.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/routes/taskRouter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":64}},"3":{"start":{"line":5,"column":25},"end":{"line":5,"column":64}},"4":{"start":{"line":6,"column":25},"end":{"line":6,"column":64}},"5":{"start":{"line":7,"column":15},"end":{"line":7,"column":38}},"6":{"start":{"line":8,"column":19},"end":{"line":8,"column":49}},"7":{"start":{"line":9,"column":13},"end":{"line":9,"column":43}},"8":{"start":{"line":10,"column":23},"end":{"line":10,"column":53}},"9":{"start":{"line":11,"column":0},"end":{"line":12,"column":123}},"10":{"start":{"line":12,"column":84},"end":{"line":12,"column":121}},"11":{"start":{"line":13,"column":0},"end":{"line":14,"column":95}},"12":{"start":{"line":14,"column":54},"end":{"line":14,"column":93}},"13":{"start":{"line":15,"column":0},"end":{"line":16,"column":123}},"14":{"start":{"line":16,"column":86},"end":{"line":16,"column":121}},"15":{"start":{"line":17,"column":0},"end":{"line":18,"column":99}},"16":{"start":{"line":18,"column":60},"end":{"line":18,"column":97}},"17":{"start":{"line":19,"column":0},"end":{"line":19,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":12,"column":64},"end":{"line":12,"column":65}},"loc":{"start":{"line":12,"column":84},"end":{"line":12,"column":121}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":34},"end":{"line":14,"column":35}},"loc":{"start":{"line":14,"column":54},"end":{"line":14,"column":93}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":66},"end":{"line":16,"column":67}},"loc":{"start":{"line":16,"column":86},"end":{"line":16,"column":121}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":40},"end":{"line":18,"column":41}},"loc":{"start":{"line":18,"column":60},"end":{"line":18,"column":97}},"line":18}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":1,"12":0,"13":1,"14":0,"15":1,"16":0,"17":1},"f":{"0":0,"1":0,"2":0,"3":0},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/routes/taskRouter.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/routes/taskRouter.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AAEjC,iEAA0D;AAC1D,iEAA0D;AAC1D,iEAA0D;AAE1D,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AACxB,MAAM,UAAU,GAAG,IAAI,wBAAc,EAAE,CAAC;AACxC,MAAM,IAAI,GAAG,IAAI,wBAAc,EAAE,CAAC;AAClC,MAAM,cAAc,GAAG,IAAI,wBAAc,EAAE,CAAC;AAE5C,MAAM;KACH,IAAI,CAAC,GAAG,EACT,IAAI,CAAC,aAAa,EAClB,cAAc,CAAC,YAAY,EAC3B,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AAE7D,MAAM;KACH,GAAG,CAAC,GAAG,EACR,IAAI,CAAC,aAAa,EAClB,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AAE/D,MAAM;KACH,GAAG,CAAC,MAAM,EACX,IAAI,CAAC,aAAa,EAClB,cAAc,CAAC,YAAY,EAC3B,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AAE3D,MAAM;KACH,MAAM,CAAC,MAAM,EACd,IAAI,CAAC,aAAa,EAClB,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AAE7D,kBAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\n\nimport AuthMiddleware from '../middleware/authMiddleware';\nimport TaskController from '../controller/taskController';\nimport TaskValidation from '../middleware/taskValidation';\n\nconst router = Router();\nconst controller = new TaskController();\nconst auth = new AuthMiddleware();\nconst taskValidation = new TaskValidation();\n\nrouter\n  .post('/',\n  auth.validateToken,\n  taskValidation.validateTask,\n  (req, res, next) => controller.createTask(req, res, next));\n\nrouter\n  .get('/',\n  auth.validateToken,\n  (req, res, next) => controller.getUserTasks(req, res, next));\n\nrouter\n  .put('/:id',\n  auth.validateToken,\n  taskValidation.validateTask,\n  (req, res, next) => controller.editTask(req, res, next));\n\nrouter\n  .delete('/:id',\n  auth.validateToken,\n  (req, res, next) => controller.deleteTask(req, res, next));\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f403fe17fac6203f952e673f85c89f3f92d6fb1e"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/middleware/authMiddleware.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/middleware/authMiddleware.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":50}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":33}},"3":{"start":{"line":7,"column":34},"end":{"line":7,"column":45}},"4":{"start":{"line":8,"column":8},"end":{"line":11,"column":9}},"5":{"start":{"line":9,"column":24},"end":{"line":9,"column":81}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":29}},"7":{"start":{"line":12,"column":21},"end":{"line":12,"column":59}},"8":{"start":{"line":13,"column":8},"end":{"line":16,"column":9}},"9":{"start":{"line":14,"column":24},"end":{"line":14,"column":90}},"10":{"start":{"line":15,"column":12},"end":{"line":15,"column":29}},"11":{"start":{"line":17,"column":26},"end":{"line":17,"column":30}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":43}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":22}},"14":{"start":{"line":22,"column":0},"end":{"line":22,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":40},"end":{"line":20,"column":5}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":8},"end":{"line":11,"column":9}},"type":"if","locations":[{"start":{"line":8,"column":8},"end":{"line":11,"column":9}},{"start":{"line":8,"column":8},"end":{"line":11,"column":9}}],"line":8},"1":{"loc":{"start":{"line":13,"column":8},"end":{"line":16,"column":9}},"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":16,"column":9}},{"start":{"line":13,"column":8},"end":{"line":16,"column":9}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"f":{"0":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/middleware/authMiddleware.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/middleware/authMiddleware.ts"],"names":[],"mappings":";;AAEA,mDAAmD;AAEnD,kCAAsC;AAEtC,MAAqB,cAAc;IAC1B,KAAK,CAAC,aAAa,CACxB,GAAY,EACZ,GAAa,EACb,IAAkB;QAElB,MAAM,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;QACtC,IAAI,CAAC,aAAa,EAAE;YAClB,MAAM,GAAG,GAAG,IAAI,kCAAiB,CAAC,iBAAiB,CAAC,CAAC;YACrD,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,MAAM,IAAI,GAAG,IAAA,kBAAW,EAAC,aAAa,CAAC,CAAC;QACxC,IAAI,CAAC,IAAI,EAAE;YACT,MAAM,GAAG,GAAG,IAAI,kCAAiB,CAAC,0BAA0B,CAAC,CAAC;YAC9D,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;QACvB,GAAG,CAAC,OAAO,CAAC,SAAS,GAAG,GAAG,KAAK,EAAE,CAAC;QAEnC,OAAO,IAAI,EAAE,CAAC;IAChB,CAAC;CACF;AAvBD,iCAuBC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\n\nimport { UnauthorizedError } from 'restify-errors';\n\nimport { verifyToken } from '../auth';\n\nexport default class AuthMiddleware {\n  public async validateToken(\n    req: Request,\n    res: Response,\n    next: NextFunction,\n  ): Promise<void> {\n    const { authorization } = req.headers;\n    if (!authorization) {\n      const err = new UnauthorizedError('Token not found');\n      return next(err);\n    }\n\n    const auth = verifyToken(authorization);\n    if (!auth) {\n      const err = new UnauthorizedError('Expired or invalid token');\n      return next(err);\n    }\n\n    const { email } = auth;\n    req.headers.userEmail = `${email}`;\n\n    return next();\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5eba62a42a37a7972bd5cbb1571982f0fa7a4b0a"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/controller/taskController.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/controller/taskController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":22},"end":{"line":3,"column":55}},"2":{"start":{"line":4,"column":22},"end":{"line":4,"column":55}},"3":{"start":{"line":5,"column":25},"end":{"line":5,"column":50}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":56}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":56}},"6":{"start":{"line":12,"column":30},"end":{"line":12,"column":41}},"7":{"start":{"line":13,"column":8},"end":{"line":16,"column":9}},"8":{"start":{"line":14,"column":24},"end":{"line":14,"column":66}},"9":{"start":{"line":15,"column":12},"end":{"line":15,"column":29}},"10":{"start":{"line":17,"column":21},"end":{"line":17,"column":71}},"11":{"start":{"line":18,"column":8},"end":{"line":21,"column":9}},"12":{"start":{"line":19,"column":24},"end":{"line":19,"column":78}},"13":{"start":{"line":20,"column":12},"end":{"line":20,"column":29}},"14":{"start":{"line":22,"column":24},"end":{"line":22,"column":56}},"15":{"start":{"line":23,"column":21},"end":{"line":23,"column":64}},"16":{"start":{"line":24,"column":8},"end":{"line":24,"column":42}},"17":{"start":{"line":27,"column":30},"end":{"line":27,"column":41}},"18":{"start":{"line":28,"column":8},"end":{"line":31,"column":9}},"19":{"start":{"line":29,"column":24},"end":{"line":29,"column":66}},"20":{"start":{"line":30,"column":12},"end":{"line":30,"column":29}},"21":{"start":{"line":32,"column":21},"end":{"line":32,"column":71}},"22":{"start":{"line":33,"column":8},"end":{"line":36,"column":9}},"23":{"start":{"line":34,"column":24},"end":{"line":34,"column":78}},"24":{"start":{"line":35,"column":12},"end":{"line":35,"column":29}},"25":{"start":{"line":37,"column":22},"end":{"line":37,"column":67}},"26":{"start":{"line":38,"column":8},"end":{"line":38,"column":43}},"27":{"start":{"line":41,"column":8},"end":{"line":49,"column":9}},"28":{"start":{"line":42,"column":27},"end":{"line":42,"column":37}},"29":{"start":{"line":43,"column":28},"end":{"line":43,"column":61}},"30":{"start":{"line":44,"column":12},"end":{"line":44,"column":54}},"31":{"start":{"line":45,"column":12},"end":{"line":45,"column":82}},"32":{"start":{"line":48,"column":12},"end":{"line":48,"column":31}},"33":{"start":{"line":52,"column":8},"end":{"line":59,"column":9}},"34":{"start":{"line":53,"column":27},"end":{"line":53,"column":37}},"35":{"start":{"line":54,"column":12},"end":{"line":54,"column":61}},"36":{"start":{"line":55,"column":12},"end":{"line":55,"column":82}},"37":{"start":{"line":58,"column":12},"end":{"line":58,"column":31}},"38":{"start":{"line":62,"column":0},"end":{"line":62,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":10,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":37},"end":{"line":25,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":39},"end":{"line":39,"column":5}},"line":26},"3":{"name":"(anonymous_3)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":35},"end":{"line":50,"column":5}},"line":40},"4":{"name":"(anonymous_4)","decl":{"start":{"line":51,"column":4},"end":{"line":51,"column":5}},"loc":{"start":{"line":51,"column":37},"end":{"line":60,"column":5}},"line":51}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":8},"end":{"line":16,"column":9}},"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":16,"column":9}},{"start":{"line":13,"column":8},"end":{"line":16,"column":9}}],"line":13},"1":{"loc":{"start":{"line":18,"column":8},"end":{"line":21,"column":9}},"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":21,"column":9}},{"start":{"line":18,"column":8},"end":{"line":21,"column":9}}],"line":18},"2":{"loc":{"start":{"line":28,"column":8},"end":{"line":31,"column":9}},"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":31,"column":9}},{"start":{"line":28,"column":8},"end":{"line":31,"column":9}}],"line":28},"3":{"loc":{"start":{"line":33,"column":8},"end":{"line":36,"column":9}},"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":36,"column":9}},{"start":{"line":33,"column":8},"end":{"line":36,"column":9}}],"line":33}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/controller/taskController.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/controller/taskController.ts"],"names":[],"mappings":";;AAEA,wDAAiD;AACjD,wDAAiD;AAEjD,mDAAsE;AAEtE,MAAqB,cAAc;IAIjC;QACE,IAAI,CAAC,YAAY,GAAG,IAAI,qBAAW,EAAE,CAAC;QACtC,IAAI,CAAC,YAAY,GAAG,IAAI,qBAAW,EAAE,CAAC;IACxC,CAAC;IAEM,KAAK,CAAC,UAAU,CACrB,GAAY,EACZ,GAAa,EACb,IAAkB;QAElB,MAAM,EAAE,SAAS,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;QAClC,IAAI,CAAC,SAAS,EAAE;YACd,MAAM,GAAG,GAAG,IAAI,oCAAmB,EAAE,CAAC;YACtC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QAChE,IAAI,CAAC,IAAI,EAAE;YACT,MAAM,GAAG,GAAG,IAAI,gCAAe,CAAC,gBAAgB,CAAC,CAAC;YAClD,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,MAAM,OAAO,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;QACjD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACzD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IAEM,KAAK,CAAC,YAAY,CACvB,GAAY,EACZ,GAAa,EACb,IAAkB;QAElB,MAAM,EAAE,SAAS,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;QAClC,IAAI,CAAC,SAAS,EAAE;YACd,MAAM,GAAG,GAAG,IAAI,oCAAmB,EAAE,CAAC;YACtC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QAChE,IAAI,CAAC,IAAI,EAAE;YACT,MAAM,GAAG,GAAG,IAAI,gCAAe,CAAC,gBAAgB,CAAC,CAAC;YAClD,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC5D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,QAAQ,CACnB,GAAY,EACZ,GAAa,EACb,IAAkB;QAElB,IAAI;YACF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC1B,MAAM,OAAO,GAAG,EAAE,EAAE,EAAE,QAAQ,CAAC,EAAE,CAAC,EAAE,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;YAClD,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAC1C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;SACvE;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;SACpB;IACH,CAAC;IAEM,KAAK,CAAC,UAAU,CACrB,GAAY,EACZ,GAAa,EACb,IAAkB;QAElB,IAAI;YACF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC1B,MAAM,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;YACjD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;SACvE;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;SACpB;IACH,CAAC;CACF;AAhFD,iCAgFC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\n\nimport UserService from '../service/userService';\nimport TaskService from '../service/taskService';\n\nimport { BadRequestError, InternalServerError } from 'restify-errors';\n\nexport default class TaskController {\n  private _taskService;\n  private _userService;\n\n  constructor() {\n    this._taskService = new TaskService();\n    this._userService = new UserService();\n  }\n\n  public async createTask(\n    req: Request,\n    res: Response,\n    next: NextFunction,\n  ): Promise<Response | void> {\n    const { userEmail } = req.headers;\n    if (!userEmail) {\n      const err = new InternalServerError();\n      return next(err);\n    }\n\n    const user = await this._userService.findUserByEmail(userEmail);\n    if (!user) {\n      const err = new BadRequestError('User not found');\n      return next(err);\n    }\n\n    const taskObj = { userId: user.id, ...req.body };\n    const task = await this._taskService.createTask(taskObj);\n    return res.status(201).json(task);\n  }\n\n  public async getUserTasks(\n    req: Request,\n    res: Response,\n    next: NextFunction,\n  ): Promise<Response | void> {\n    const { userEmail } = req.headers;\n    if (!userEmail) {\n      const err = new InternalServerError();\n      return next(err);\n    }\n\n    const user = await this._userService.findUserByEmail(userEmail);\n    if (!user) {\n      const err = new BadRequestError('User not found');\n      return next(err);\n    }\n\n    const tasks = await this._taskService.getUserTasks(user.id);\n    return res.status(200).json(tasks);\n  }\n\n  public async editTask(\n    req: Request,\n    res: Response,\n    next: NextFunction,\n  ): Promise<Response | void> {\n    try {\n      const { id } = req.params;\n      const taskObj = { id: parseInt(id), ...req.body };\n      await this._taskService.editTask(taskObj);\n      return res.status(200).json({ message: 'Task updated with success' });\n    } catch (error) {\n      return next(error);\n    }\n  }\n\n  public async deleteTask(\n    req: Request,\n    res: Response,\n    next: NextFunction,\n  ): Promise<Response | void> {\n    try {\n      const { id } = req.params;\n      await this._taskService.deleteTask(parseInt(id));\n      return res.status(200).json({ message: 'Task deleted with success' });\n    } catch (error) {\n      return next(error);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4dbdd18d8d55a190c57cf8f4edbaaa3a78c93505"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/service/taskService.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/service/taskService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":50}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":49}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":37}},"4":{"start":{"line":10,"column":24},"end":{"line":10,"column":54}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":23}},"6":{"start":{"line":14,"column":22},"end":{"line":14,"column":70}},"7":{"start":{"line":15,"column":8},"end":{"line":15,"column":21}},"8":{"start":{"line":18,"column":24},"end":{"line":18,"column":99}},"9":{"start":{"line":19,"column":8},"end":{"line":20,"column":71}},"10":{"start":{"line":20,"column":12},"end":{"line":20,"column":71}},"11":{"start":{"line":23,"column":24},"end":{"line":23,"column":68}},"12":{"start":{"line":24,"column":8},"end":{"line":25,"column":71}},"13":{"start":{"line":25,"column":12},"end":{"line":25,"column":71}},"14":{"start":{"line":28,"column":0},"end":{"line":28,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":18},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":27},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":31},"end":{"line":16,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":55},"end":{"line":21,"column":5}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":25},"end":{"line":26,"column":5}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":19,"column":8},"end":{"line":20,"column":71}},"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":20,"column":71}},{"start":{"line":19,"column":8},"end":{"line":20,"column":71}}],"line":19},"1":{"loc":{"start":{"line":24,"column":8},"end":{"line":25,"column":71}},"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":25,"column":71}},{"start":{"line":24,"column":8},"end":{"line":25,"column":71}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/service/taskService.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/service/taskService.ts"],"names":[],"mappings":";;AAAA,mDAA+C;AAM/C,kDAA2C;AAE3C,MAAqB,WAAW;IAG9B;QACE,IAAI,CAAC,MAAM,GAAG,cAAI,CAAC;IACrB,CAAC;IAEM,KAAK,CAAC,UAAU,CAAC,IAAiB;QACvC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC/C,OAAO,OAAO,CAAC;IACjB,CAAC;IAEM,KAAK,CAAC,YAAY,CAAC,MAAc;QACtC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;QAC/D,OAAO,KAAK,CAAC;IACf,CAAC;IAEM,KAAK,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAe;QACnE,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC5F,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAAE,MAAM,IAAI,8BAAa,CAAC,gBAAgB,CAAC,CAAC;IAC7D,CAAC;IAEM,KAAK,CAAC,UAAU,CAAC,EAAU;QAChC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC7D,IAAI,CAAC,OAAO;YAAE,MAAM,IAAI,8BAAa,CAAC,gBAAgB,CAAC,CAAC;IAC1D,CAAC;CACF;AA1BD,8BA0BC","sourcesContent":["import { NotFoundError } from 'restify-errors';\n\nimport ITaskService from '../@types/interfaces/taskService.interface';\n\nimport { CreateTaskT, TaskT, UpdateTaskT } from '../@types/types/task.type';\n\nimport Task from '../database/models/Task';\n\nexport default class TaskService implements ITaskService {\n  private _model;\n\n  constructor() {\n    this._model = Task;\n  }\n\n  public async createTask(task: CreateTaskT): Promise<TaskT> {\n    const newTask = await this._model.create(task);\n    return newTask;\n  }\n\n  public async getUserTasks(userId: number): Promise<TaskT[]> {\n    const tasks = await this._model.findAll({ where: { userId } });\n    return tasks;\n  }\n\n  public async editTask({ id, title, description, status }: UpdateTaskT): Promise<void> {\n    const updated = await this._model.update({ title, description, status }, { where: { id } });\n    if (!updated[0]) throw new NotFoundError('Task not found');\n  }\n\n  public async deleteTask(id: number): Promise<void> {\n    const deleted = await this._model.destroy({ where: { id } });\n    if (!deleted) throw new NotFoundError('Task not found');\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"57f32bbe6838196a00d65bdcedc21cc6e5f0763b"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/database/models/Task.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/database/models/Task.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":32}},"4":{"start":{"line":9,"column":0},"end":{"line":26,"column":3}},"5":{"start":{"line":27,"column":0},"end":{"line":27,"column":74}},"6":{"start":{"line":28,"column":0},"end":{"line":28,"column":23}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/database/models/Task.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/database/models/Task.ts"],"names":[],"mappings":";;AAAA,yCAAmD;AAInD,wBAAmB;AAEnB,iCAA0B;AAE1B,MAAM,IAAK,SAAQ,iBAAK;CAMvB;AAAA,CAAC;AAEF,IAAI,CAAC,IAAI,CACP;IACE,KAAK,EAAE;QACL,IAAI,EAAE,kBAAM;KACb;IACD,WAAW,EAAE;QACX,IAAI,EAAE,kBAAM;KACb;IACD,MAAM,EAAE;QACN,IAAI,EAAE,kBAAM;KACb;IACD,MAAM,EAAE;QACN,IAAI,EAAE,mBAAO;KACd;CACF,EACD;IACE,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,OAAO;IAClB,UAAU,EAAE,KAAK;CAClB,CACF,CAAC;AAEF,IAAI,CAAC,SAAS,CAAC,cAAI,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;AAEhE,kBAAe,IAAI,CAAC","sourcesContent":["import { Model, STRING, INTEGER } from 'sequelize';\n\nimport { TaskStatusT } from '../../@types/types/task.type';\n\nimport db from '.';\n\nimport User from './User';\n\nclass Task extends Model {\n  declare id: number;\n  declare title: string;\n  declare description: string;\n  declare status: TaskStatusT;\n  declare userId: number;\n};\n\nTask.init(\n  {\n    title: {\n      type: STRING,\n    },\n    description: {\n      type: STRING,\n    },\n    status: {\n      type: STRING,\n    },\n    userId: {\n      type: INTEGER,\n    },\n  },\n  {\n    sequelize: db,\n    tableName: 'tasks',\n    timestamps: false,\n  },\n);\n\nTask.belongsTo(User, { foreignKey: 'userId', targetKey: 'id' });\n\nexport default Task;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"636c10a7f142ce3cb2c0ef5fb6c1f5791faaaca8"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/middleware/taskValidation.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/middleware/taskValidation.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":50}},"3":{"start":{"line":7,"column":26},"end":{"line":7,"column":63}},"4":{"start":{"line":8,"column":8},"end":{"line":11,"column":9}},"5":{"start":{"line":9,"column":24},"end":{"line":9,"column":75}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":29}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":22}},"8":{"start":{"line":15,"column":0},"end":{"line":15,"column":33}},"9":{"start":{"line":16,"column":0},"end":{"line":20,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":39},"end":{"line":13,"column":5}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":8},"end":{"line":11,"column":9}},"type":"if","locations":[{"start":{"line":8,"column":8},"end":{"line":11,"column":9}},{"start":{"line":8,"column":8},"end":{"line":11,"column":9}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":1},"f":{"0":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/middleware/taskValidation.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/middleware/taskValidation.ts"],"names":[],"mappings":";;AAEA,2BAA2B;AAE3B,mDAAiD;AAEjD,MAAqB,cAAc;IAO1B,KAAK,CAAC,YAAY,CACvB,GAAY,EACZ,GAAa,EACb,IAAkB;QAElB,MAAM,EAAE,KAAK,EAAE,GAAG,cAAc,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACxD,IAAI,KAAK,EAAE;YACT,MAAM,GAAG,GAAG,IAAI,gCAAe,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAC/C,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,OAAO,IAAI,EAAE,CAAC;IAChB,CAAC;;AAnBH,iCAoBC;AAnBgB,kBAAG,GAAG,GAAG,CAAC,MAAM,CAAC;IAC9B,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC9B,WAAW,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC;IACnC,MAAM,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;CAChC,CAAC,CAAC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\n\nimport * as Joi from 'joi';\n\nimport { BadRequestError } from 'restify-errors';\n\nexport default class TaskValidation {\n  private static joi = Joi.object({\n    title: Joi.string().required(),\n    description: Joi.string().allow(''),\n    status: Joi.string().required(),\n  });\n\n  public async validateTask(\n    req: Request,\n    res: Response,\n    next: NextFunction,\n  ): Promise<void> {\n    const { error } = TaskValidation.joi.validate(req.body);\n    if (error) {\n      const err = new BadRequestError(error.message);\n      return next(err);\n    }\n\n    return next();\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9d0520fd5e19715d74bf926488db77bb237c71a4"},"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/middleware/errorMiddleware.ts":{"path":"/home/rael/Área de Trabalho/projetos pessoais/task-list/backend/src/middleware/errorMiddleware.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":50}},"2":{"start":{"line":4,"column":23},"end":{"line":9,"column":1}},"3":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"4":{"start":{"line":6,"column":8},"end":{"line":6,"column":19}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":82}},"6":{"start":{"line":10,"column":24},"end":{"line":14,"column":1}},"7":{"start":{"line":11,"column":18},"end":{"line":11,"column":37}},"8":{"start":{"line":12,"column":36},"end":{"line":12,"column":41}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":52}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":23},"end":{"line":4,"column":24}},"loc":{"start":{"line":4,"column":32},"end":{"line":9,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":24},"end":{"line":10,"column":25}},"loc":{"start":{"line":10,"column":51},"end":{"line":14,"column":1}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":7,"4":7,"5":0,"6":1,"7":7,"8":7,"9":7,"10":1},"f":{"0":7,"1":7},"b":{"0":[7,0]},"inputSourceMap":{"version":3,"file":"file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/middleware/errorMiddleware.ts","sources":["file:///home/rael/%C3%81rea%20de%20Trabalho/projetos%20pessoais/task-list/backend/src/middleware/errorMiddleware.ts"],"names":[],"mappings":";;AACA,mDAAuE;AAEvE,MAAM,cAAc,GAAG,CAAC,GAAqB,EAAoB,EAAE;IAC/D,IAAI,GAAG,CAAC,UAAU,EAAE;QAClB,OAAO,GAAG,CAAC;KACZ;IAED,OAAO,IAAI,oCAAmB,CAAC,uBAAuB,EAAE,GAAG,CAAC,CAAC;AACjE,CAAC,CAAC;AAEF,MAAM,eAAe,GAAG,CACtB,GAAqB,EACrB,IAAa,EACb,GAAa,EACb,KAAmB,EACnB,EAAE;IACF,MAAM,KAAK,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC;IAClC,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC;IAEtC,OAAO,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;AAClD,CAAC,CAAC;AAEF,kBAAe,eAAe,CAAC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport { DefinedHttpError, InternalServerError } from 'restify-errors';\n\nconst serializeError = (err: DefinedHttpError): DefinedHttpError => {\n    if (err.statusCode) {\n      return err;\n    }\n  \n    return new InternalServerError('Internal Server Error', err);\n};\n\nconst errorMiddleware = (\n  err: DefinedHttpError,\n  _req: Request,\n  res: Response,\n  _next: NextFunction,\n) => {\n  const error = serializeError(err);\n  const { statusCode, message } = error;\n\n  return res.status(statusCode).json({ message });\n};\n\nexport default errorMiddleware;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7e3ed03b54be60f60f8dcada9bbec18415ee98ca"}}